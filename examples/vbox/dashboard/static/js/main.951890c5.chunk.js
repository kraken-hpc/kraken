(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(27)},23:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(15),o=n.n(r),c=(n(23),n(3)),i=n(4),l=n(6),d=n(5),h=n(7),u=n(2),f=n(10),p={yellow:"#f2cf66",red:"#e74c3c",grey:"#a5a5a5",purple:"#6a51ba",green:"#89CA78",blue:"#509EE8",black:"#000000",title_red:"#FF6656"},g="192.168.57.10:3141",m=.4;function v(e){return"PHYS_ERROR"===e|"ERROR"===e|"POWER_CYCLE"===e?p.red:"PHYS_HANG"===e?p.purple:"POWER_OFF"===e?p.grey:"PHYS_UNKNOWN"===e|"UNKNOWN"===e?p.yellow:"INIT"===e?p.blue:"SYNC"===e|"POWER_ON"===e?p.green:p.yellow}function N(e){for(var t=atob(e),n="",a=0;a<t.length;a++){var s=t.charCodeAt(a).toString(16);n+=2===s.length?s:"0"+s}return n.toUpperCase()}function y(e){for(var t=atob(e),n="",a=0;a<t.length;a++){var s=t.charCodeAt(a).toString(10);n+=0===a?s:"."+s}return n}function b(e){if("undefined"===typeof e)return"";var t=N(e);return t=t.replace(/(.{8})(.{4})(.{4})(.{4})(.{10})/,"$1-$2-$3-$4-$5")}function E(e,t){switch(!0){case e.includes("ip"):return y(t);case e.includes("mac"):return function(e){var t=N(e);return t=t.replace(/(.{2})(.{2})(.{2})(.{2})(.{2})(.{2})/,"$1:$2:$3:$4:$5:$6")}(t);case e.includes("subnet"):return y(t);default:return t}}function O(e){return e.replace("type.googleapis.com/proto.","")}function R(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return e.nodes}).catch(function(e){return null})}function S(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){return null})}function k(e,t){return fetch(e,{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)}).then(function(e){return e.json()}).catch(function(e){return console.error("Error:",e)})}function F(e,t){if("undefined"===typeof e.nodename&&"undefined"===typeof t.nodename)return 0;if("undefined"===typeof e.nodename)return-1;if("undefined"===typeof t.nodename)return 1;var n=e.nodename.match(/(\d*)/g),a=t.nodename.match(/(\d*)/g),s=parseInt(n[1]),r=parseInt(n[3]),o=parseInt(a[1]),c=parseInt(a[3]);return s>o?1:s<o?-1:r>c?1:r<c?-1:e.nodename.localeCompare(t.nodename)}function j(e,t,n){var a=this;e<.15&&(e=.15),this.stopLive(),this.interval=setInterval(function(){n.call(a)},1e3*e),this.setState(Object(f.a)({},t,!0))}function w(){"undefined"!==typeof this.interval&&clearInterval(this.interval),this.setState({liveUpdate:!1,liveReconnect:!1})}var C=n(29);function U(e){return s.a.createElement("div",{className:"banner"},s.a.createElement(C.a,{to:"/"},s.a.createElement("div",{className:"banner_text"},"Kraken")),s.a.createElement(_,{refreshRate:e.refreshRate,changeRefresh:e.changeRefresh}))}var _=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={menuOpen:!1},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"modalToggle",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("svg",{onClick:function(){return e.modalToggle()},className:"settings",id:"settings_button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},s.a.createElement("path",{fill:"none",d:"M0 0h20v20H0V0z"}),s.a.createElement("path",{fill:p.title_red,d:"M15.95 10.78c.03-.25.05-.51.05-.78s-.02-.53-.06-.78l1.69-1.32c.15-.12.19-.34.1-.51l-1.6-2.77c-.1-.18-.31-.24-.49-.18l-1.99.8c-.42-.32-.86-.58-1.35-.78L12 2.34c-.03-.2-.2-.34-.4-.34H8.4c-.2 0-.36.14-.39.34l-.3 2.12c-.49.2-.94.47-1.35.78l-1.99-.8c-.18-.07-.39 0-.49.18l-1.6 2.77c-.1.18-.06.39.1.51l1.69 1.32c-.04.25-.07.52-.07.78s.02.53.06.78L2.37 12.1c-.15.12-.19.34-.1.51l1.6 2.77c.1.18.31.24.49.18l1.99-.8c.42.32.86.58 1.35.78l.3 2.12c.04.2.2.34.4.34h3.2c.2 0 .37-.14.39-.34l.3-2.12c.49-.2.94-.47 1.35-.78l1.99.8c.18.07.39 0 .49-.18l1.6-2.77c.1-.18.06-.39-.1-.51l-1.67-1.32zM10 13c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3z"})),s.a.createElement(x,{menuOpen:this.state.menuOpen,refreshRate:this.props.refreshRate,updateRefresh:this.props.changeRefresh}))}}]),t}(s.a.Component),x=function(e){function t(e){var n;Object(c.a)(this,t);return(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={topHeight:"7rem",bottomHeight:"8rem",style:{opacity:n.props.menuOpen?100:0,visibility:n.props.menuOpen?"visible":"hidden",top:n.props.menuOpen?"7rem":"8rem"}},n.updateRefresh=n.updateRefresh.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"updateRefresh",value:function(e){this.props.updateRefresh(e.target.value)}},{key:"componentWillReceiveProps",value:function(e){e.menuOpen!==this.props.menuOpen&&this.setState({style:{opacity:e.menuOpen?100:0,visibility:e.menuOpen?"visible":"hidden",top:e.menuOpen?this.state.topHeight:this.state.bottomHeight}})}},{key:"render",value:function(){return s.a.createElement("form",{className:"settings",id:"settings_modal",style:this.state.style},s.a.createElement("label",null,"Refresh Rate:"),s.a.createElement("input",{id:"slider",name:"refreshRate",type:"range",min:"0.15",max:"2",value:this.props.refreshRate,onChange:this.updateRefresh,step:".05"}),s.a.createElement("div",{id:"slider_output"},this.props.refreshRate))}}]),t}(s.a.Component);var I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={dscUrl:"http://".concat(g,"/dsc/nodes"),cfgUrl:"http://".concat(g,"/cfg/nodes"),graphUrl:"http://".concat(g,"/graph/json"),masterNode:{},nodes:[],cfgNodes:[],cfgMaster:{},dscNodes:[],dscMaster:{},liveUpdate:!1,liveReconnect:!1,counts:{unknownCount:0,initCount:0,syncCount:0},disconnected:!1},n.organizeNodes=n.organizeNodes.bind(Object(u.a)(n)),n.cfgNodeFetch=n.cfgNodeFetch.bind(Object(u.a)(n)),n.dscNodeFetch=n.dscNodeFetch.bind(Object(u.a)(n)),n.liveFunction=j.bind(Object(u.a)(n)),n.stopLive=w.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.cfgNodeFetch(function(){this.dscNodeFetch(this.organizeNodes)})}},{key:"componentWillUnmount",value:function(){this.stopLive()}},{key:"componentWillReceiveProps",value:function(e){e.refreshRate!==this.props.refreshRate&&this.liveFunction(e.refreshRate,"liveUpdate",function(){this.dscNodeFetch(this.organizeNodes)})}},{key:"dscNodeFetch",value:function(e){var t=this;R(this.state.dscUrl).then(function(n){if(null===n)t.setState({disconnected:!0}),e.call(t);else{for(var a,s={},r=0;r<n.length;r++)n[r].id===t.state.cfgMaster.id&&(s=n[r],n.splice(r,1));a=n,t.setState({disconnected:!1,dscNodes:a,dscMaster:s}),e.call(t)}})}},{key:"cfgNodeFetch",value:function(e){var t=this;R(this.state.cfgUrl).then(function(n){if(null===n)t.setState({disconnected:!0}),e.call(t);else{for(var a,s={},r=0;r<n.length;r++)null!==n[r].parentId&&"undefined"!==typeof n[r].parentId||(s=n[r],n.splice(r,1));a=n,t.setState({disconnected:!1,cfgNodes:a,cfgMaster:s}),e.call(t)}})}},{key:"organizeNodes",value:function(){if(this.state.disconnected)return this.state.liveReconnect?void 0:(console.log("Disconnected from Kraken. Attempting reconnect"),void this.liveFunction(this.props.refreshRate,"liveReconnect",function(){this.cfgNodeFetch(this.organizeNodes)}));if(!this.state.disconnected&&this.state.liveReconnect&&(console.log("Reconnection established"),this.stopLive()),"undefined"===typeof this.state.cfgMaster.id)return console.log("Missing cfg master. Getting cfg nodes..."),void this.cfgNodeFetch(this.organizeNodes);if(0===Object.entries(this.state.dscMaster).length)return console.log("Missing dsc master. Getting dsc nodes..."),void this.dscNodeFetch(this.organizeNodes);if(this.state.cfgNodes.length!==this.state.dscNodes.length)return this.stopLive(),console.log("cfg nodes and dsc node lists are not equal. Getting cfg and dsc nodes..."),void this.cfgNodeFetch(function(){this.dscNodeFetch(this.organizeNodes)});if(this.state.cfgNodes.length===this.state.dscNodes.length){this.state.liveUpdate||(console.log("cfg nodes and dsc nodes are equal. Starting live update and organizing..."),this.liveFunction(this.props.refreshRate,"liveUpdate",function(){this.dscNodeFetch(this.organizeNodes)}));var e=this.state.cfgNodes;e.sort(F);for(var t=this.state.cfgMaster,n=0;n<e.length;n++)for(var a=0;a<this.state.dscNodes.length;a++)e[n].id===this.state.dscNodes[a].id&&(e[n].physState=this.state.dscNodes[a].physState,e[n].runState=this.state.dscNodes[a].runState);t.physState=this.state.dscMaster.physState,t.runState=this.state.dscMaster.runState;var s=this.stateCount(e);this.setState({counts:s,masterNode:t,nodes:e})}else console.log("I don't know what happened...")}},{key:"stateCount",value:function(e){for(var t=0,n=0,a=0,s=0;s<e.length;s++)switch(e[s].runState){case"UNKNOWN":t++;break;case"INIT":n++;break;case"SYNC":a++;break;default:t++}return{unknownCount:t,initCount:n,syncCount:a}}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.disconnected&&s.a.createElement("h2",{style:{textAlign:"center",fontFamily:"Arial",color:"maroon"}},"Disconnected From Kraken"),0===this.state.nodes.length&&"undefined"===typeof this.state.masterNode.id?s.a.createElement("h3",{style:{fontFamily:"Arial"}},"Loading..."):s.a.createElement("div",{className:"cluster"},s.a.createElement(M,{data:this.state.masterNode}),s.a.createElement("div",{className:"cluster_nodelist"},this.state.nodes.map(function(e){return s.a.createElement(z,{data:e,key:e.id})}))),s.a.createElement("div",{className:"counts_area"},s.a.createElement("div",{className:"counts"},"Unknown: ",this.state.counts.unknownCount),s.a.createElement("div",{className:"counts"},"Init: ",this.state.counts.initCount),s.a.createElement("div",{className:"counts"},"Sync: ",this.state.counts.syncCount)))}}]),t}(a.Component);function z(e){"undefined"===typeof e.data.physState&&(e.data.physState="UNKNOWN"),"undefined"===typeof e.data.runState&&(e.data.runState="UNKNOWN");var t=e.data.nodename,n=v(e.data.physState),a=v(e.data.runState),r=b(e.data.id),o="Name: ".concat(t,"\nUUID: ").concat(r,"\nPhysical State: ").concat(e.data.physState,"\nRun State: ").concat(e.data.runState);return s.a.createElement(C.a,{"data-popup":o,className:"square shadow animate",style:{borderTopColor:n,borderRightColor:a,borderBottomColor:a,borderLeftColor:n},to:"node/".concat(r)})}function M(e){var t=v(e.data.physState),n=b(e.data.id);return s.a.createElement(C.a,{className:"master_square shadow animate",style:{backgroundColor:t},to:"node/".concat(n)},"Master")}function P(){return s.a.createElement("div",{className:"legend"},s.a.createElement("div",{className:"legend_title"},"Legend"),s.a.createElement("div",{className:"row",id:"first_row"},s.a.createElement("div",{className:"value",id:"phys_text"},"Phys"),s.a.createElement("div",{className:"square",style:{borderTopColor:p.grey,borderRightColor:p.black,borderBottomColor:p.black,borderLeftColor:p.grey}}),s.a.createElement("div",{className:"value",id:"run_text"},"Run")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.yellow}}),s.a.createElement("div",{className:"value"},"State Unknown")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.grey}}),s.a.createElement("div",{className:"value"},"Power Off")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.blue}}),s.a.createElement("div",{className:"value"},"Initializing")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.green}}),s.a.createElement("div",{className:"value"},"Power On / Sync")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.purple}}),s.a.createElement("div",{className:"value"},"Hang")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"square",style:{borderColor:p.red}}),s.a.createElement("div",{className:"value"},"Error")))}var L=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(U,{refreshRate:e.refreshRate,changeRefresh:e.changeRefresh}),s.a.createElement("div",null,s.a.createElement(P,null),s.a.createElement("div",{className:"node_area"},s.a.createElement(I,{refreshRate:e.refreshRate}))))},W=n(12),T=n.n(W);var A=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={dscUrl:"http://".concat(g,"/dsc/node/").concat(e.match.params.uuid),cfgUrl:"http://".concat(g,"/cfg/node/").concat(e.match.params.uuid),graphUrl:"http://".concat(g,"/graph/node/").concat(e.match.params.uuid,"/json"),dscNode:{},cfgNode:{},graph:{},disconnected:!1,liveUpdate:!1,liveReconnect:!1,graphOpen:!1},n.organizeInfo=n.organizeInfo.bind(Object(u.a)(n)),n.graphToggle=n.graphToggle.bind(Object(u.a)(n)),n.nodeFetch=n.nodeFetch.bind(Object(u.a)(n)),n.liveFunction=j.bind(Object(u.a)(n)),n.stopLive=w.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.nodeFetch(this.state.cfgUrl,"cfgNode",function(){this.nodeFetch(this.state.dscUrl,"dscNode",function(){this.graphFetch(this.organizeInfo)})})}},{key:"componentWillUnmount",value:function(){this.stopLive()}},{key:"componentWillReceiveProps",value:function(e){e.refreshRate!==this.props.refreshRate&&this.liveFunction(e.refreshRate,"liveUpdate",function(){this.nodeFetch(this.state.dscUrl,"dscNode",function(){this.graphFetch(this.organizeInfo)})})}},{key:"nodeFetch",value:function(e,t,n){var a=this;S(e).then(function(e){var s;null===e?(a.setState({disconnected:!0}),"undefined"!==typeof n&&n.call(a)):(a.setState((s={},Object(f.a)(s,t,e),Object(f.a)(s,"disconnected",!1),s)),"undefined"!==typeof n&&n.call(a))})}},{key:"graphFetch",value:function(e){var t=this;"undefined"!==typeof this.state.cfgNode.parentId?S(this.state.graphUrl).then(function(n){if(null===n){if(t.setState({disconnected:!0}),"undefined"!==typeof e)return void e.call(t)}else if(t.setState({graph:n}),"undefined"!==typeof e)return void e.call(t)}):"undefined"!==typeof e&&e.call(this)}},{key:"organizeInfo",value:function(){return this.state.disconnected?this.state.liveReconnect?void 0:(console.log("Disconnected from Kraken. Attempting reconnect"),void this.liveFunction(this.props.refreshRate,"liveReconnect",function(){this.nodeFetch(this.state.cfgUrl,"cfgNode",this.organizeInfo)})):(!this.state.disconnected&&this.state.liveReconnect&&(console.log("Reconnection established"),this.stopLive()),"undefined"===typeof this.state.cfgNode.id?(console.log("Missing cfg node. Getting cfg node..."),void this.nodeFetch(this.state.cfgUrl,"cfgNode",this.organizeInfo)):0===Object.entries(this.state.dscNode).length?(console.log("Missing dsc node. Getting dsc node and graph..."),void this.nodeFetch(this.state.dscUrl,"dscNode",function(){this.graphFetch(this.organizeInfo)})):void(this.state.liveUpdate||(console.log("Starting live update and organizing..."),this.liveFunction(this.props.refreshRate,"liveUpdate",function(){this.nodeFetch(this.state.dscUrl,"dscNode",function(){this.graphFetch(this.organizeInfo)})}))))}},{key:"graphToggle",value:function(){this.setState({graphOpen:!this.state.graphOpen})}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.disconnected&&s.a.createElement("h2",{style:{textAlign:"center",fontFamily:"Arial",color:"maroon"}},"Disconnected From Kraken"),"undefined"===typeof this.state.cfgNode.id||"undefined"===typeof this.state.dscNode.id?s.a.createElement("h3",{style:{fontFamily:"Arial"}},"Loading..."):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(H,{dscNode:this.state.dscNode,cfgNode:this.state.cfgNode}),s.a.createElement(q,{dscNode:this.state.dscNode,cfgNode:this.state.cfgNode}),s.a.createElement(Y,{dscNode:this.state.dscNode,cfgNode:this.state.cfgNode,dscUrl:this.state.dscUrl,cfgUrl:this.state.cfgUrl,graphToggle:this.graphToggle})),0!==Object.keys(this.state.graph).length&&s.a.createElement(G,{graph:this.state.graph,graphOpen:this.state.graphOpen,graphToggle:this.graphToggle})))}}]),t}(a.Component);function H(e){var t=v(e.dscNode.physState),n=v(e.dscNode.runState);return s.a.createElement("div",{className:"large_square",style:{borderTopColor:t,borderRightColor:n,borderBottomColor:n,borderLeftColor:t}})}function q(e){var t="undefined"!==typeof e.dscNode.runState?e.dscNode.runState:"",n="undefined"!==typeof e.cfgNode.runState?e.cfgNode.runState:"",a="undefined"!==typeof e.dscNode.physState?e.dscNode.physState:"",r="undefined"!==typeof e.cfgNode.physState?e.cfgNode.physState:"",o=b(e.cfgNode.id),c="";null!==e.cfgNode.parentId&&"undefined"!==typeof e.cfgNode.parentId?c=b(e.cfgNode.parentId):e.cfgNode.nodename="Master";for(var i="undefined"!==typeof e.cfgNode.arch?e.cfgNode.arch:"",l="undefined"!==typeof e.cfgNode.platform?e.cfgNode.platform:"",d=B("Node ID",0,o),h=""!==c?B("Parent ID",0,c):s.a.createElement(s.a.Fragment,null),u=B("Physical State",0,"".concat(a," / ").concat(r)),f=B("Run State",0,"".concat(t," / ").concat(n)),p=""!==i?B("Architecture",0,i):s.a.createElement(s.a.Fragment,null),g=""!==l?B("Platform",0,l):s.a.createElement(s.a.Fragment,null),m=[],v=[],N=0;N<e.cfgNode.extensions.length;N++)m.push(e.cfgNode.extensions[N]);for(m.sort(function(e,t){return O(e["@type"])<O(t["@type"])?-1:O(e["@type"])>O(t["@type"])?1:0}),N=0;N<m.length;N++)Object.keys(m[N]).length>1&&v.push(s.a.createElement(D,{extension:m[N],key:N}));var y=[],E=[];for(N=0;N<e.dscNode.services.length;N++)y.push(e.dscNode.services[N]);for(y.sort(function(e,t){return O(e.id)<O(t.id)?-1:O(e.id)>O(t.id)?1:0}),N=0;N<y.length;N++)Object.keys(y[N]).length>1&&E.push(s.a.createElement(K,{service:y[N],key:N}));return s.a.createElement("div",{className:"node_detail"},s.a.createElement("h1",{className:"node_title"},e.cfgNode.nodename),s.a.createElement("div",{className:"non_bordered_detail"},d,h,u,f,p,g),v.length>0?s.a.createElement("h2",null,"Extensions:"):s.a.createElement(s.a.Fragment,null),v,E.length>0?s.a.createElement("h2",null,"Services:"):s.a.createElement(s.a.Fragment,null),E)}function D(e){for(var t=O(e.extension["@type"]),n=[],a=0,r=Object.keys(e.extension);a<r.length;a++){var o=r[a];"@type"!==o&&n.push($(e.extension[o],o,0))}return s.a.createElement("div",{className:"bordered_detail"},s.a.createElement("div",{className:"info_title"},t),n)}function K(e){for(var t=O(e.service.id),n=[],a=0,r=Object.keys(e.service);a<r.length;a++){var o=r[a];"id"!==o&&n.push($(e.service[o],o,0))}return s.a.createElement("div",{className:"bordered_detail"},s.a.createElement("div",{className:"info_title"},t),n)}function $(e,t,n){n++;var a=[];if(Array.isArray(e)){a.push(B(t,n));for(var s=0;s<e.length;s++)a.push($(e[s],s,n))}else if("object"===typeof e){a.push(B(t,n));for(var r=0,o=Object.keys(e);r<o.length;r++){var c=o[r];a.push($(e[c],c,n))}}else"boolean"===typeof e?a.push(B(t,n,e.toString())):a.push(B(t,n,E(t,e)));return a}function B(e,t,n){var a=(15*(t-1)).toString()+"px";return s.a.createElement("div",{style:{paddingLeft:a},className:"node_view_row",key:e},s.a.createElement("span",{className:"node_view_key"},e,":"),s.a.createElement("span",{className:"node_view_value"},n))}function Y(e){return s.a.createElement("div",{className:"actions_area ".concat("undefined"===typeof e.cfgNode.parentId?"hidden":"")},s.a.createElement("div",{className:"button green",onClick:function(){var t,n;e.dscNode,t=e.cfgNode,e.dscUrl,n=e.cfgUrl,t.runState="SYNC",t.physState="POWER_ON",k(n,t)}},"Power On"),s.a.createElement("div",{className:"button red",onClick:function(){!function(e,t,n,a){t.physState="POWER_OFF",t.runState="UNKNOWN";for(var s=0;s<t.extensions.length;s++)"type.googleapis.com/proto.PXE"===t.extensions[s]["@type"]?t.extensions[s].state="NONE":"type.googleapis.com/proto.RPi3"===t.extensions[s]["@type"]&&(t.extensions[s].pxe="NONE");for(e.runState="UNKNOWN",s=0;s<e.extensions.length;s++)"type.googleapis.com/proto.PXE"===e.extensions[s]["@type"]?e.extensions[s].state="NONE":"type.googleapis.com/proto.RPi3"===e.extensions[s]["@type"]&&(e.extensions[s].pxe="NONE");console.log("dsc:",e,"\ncfg:",t),k(n,e),k(a,t)}(e.dscNode,e.cfgNode,e.dscUrl,e.cfgUrl)}},"Power Off"),s.a.createElement("div",{className:"button purple",id:"graph_button",onClick:function(){e.graphToggle()}},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100",height:"38",viewBox:"0 0 24 20"},s.a.createElement("path",{fill:"None",d:"M0 0h24v24H0V0z"}),s.a.createElement("path",{fill:"white",d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2z"}))))}var G=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).appRef=Object(a.createRef)();for(var s=e.graph.nodes,r=0;r<s.length;r++){var o={border:s[r].color.border,background:s[r].color.background};s[r].color.highlight=o,s[r].borderWidth=2}var i={nodes:new T.a.DataSet(s),edges:new T.a.DataSet(e.graph.edges)};return n.state={data:i,options:{edges:{arrows:{to:{enabled:!0,scaleFactor:1.5}},color:{inherit:!1},width:4},physics:{enabled:!0,barnesHut:{gravitationalConstant:-5e4}},height:"100%",width:"100%"},style:{opacity:n.props.graphOpen?100:0,visibility:n.props.graphOpen?"visible":"hidden"}},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){new T.a.Network(this.appRef.current,this.state.data,this.state.options).fit(this.state.options)}},{key:"componentWillReceiveProps",value:function(e){if(e.graphOpen!==this.props.graphOpen&&this.setState({style:{opacity:e.graphOpen?100:0,visibility:e.graphOpen?"visible":"hidden"}}),e.graph!==this.props.graph){for(var t=this.state.data,n=e.graph.nodes,a=0;a<n.length;a++){var s={border:n[a].color.border,background:n[a].color.background};n[a].color.highlight=s,n[a].borderWidth=2}t.nodes.update(n),t.edges.update(e.graph.edges),this.forceUpdate()}}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:this.state.style,className:"graph_area"},s.a.createElement("div",{className:"close_button",onClick:function(){e.props.graphToggle()}},s.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 24 24"},s.a.createElement("path",{fill:"None",d:"M0 0h24v24H0V0z"}),s.a.createElement("path",{fill:p.grey,d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))),s.a.createElement("div",{className:"node_graph",ref:this.appRef}),s.a.createElement("div",{ref:this.configRef}))}}]),t}(s.a.Component),J=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(U,{refreshRate:e.refreshRate,changeRefresh:e.changeRefresh}),s.a.createElement(A,{refreshRate:e.refreshRate,match:e.match}))},V=n(31),X=n(30),Q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).changeRefresh=function(e){n.setState({refreshRate:e})},n.state={refreshRate:m},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(V.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(X.a,{exact:!0,path:"/",render:function(t){return s.a.createElement(L,Object.assign({},t,{refreshRate:e.state.refreshRate,changeRefresh:e.changeRefresh}))}}),s.a.createElement(X.a,{path:"/node/:uuid",render:function(t){return s.a.createElement(J,Object.assign({},t,{refreshRate:e.state.refreshRate,changeRefresh:e.changeRefresh}))}})))}}]),t}(a.Component);o.a.render(s.a.createElement(Q,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.951890c5.chunk.js.map